<div class="backgroundImg" id="changePasswordDiv">
  <div class="col-md-12 pl-0 pr-0">
    <app-navigation-bar></app-navigation-bar>
  </div>
  <div class="row col-md-12">
    <div class="container ml-auto mr-auto mt-5 w-55 border pt-5 pl-5 pr-5 pb-0 bg-white shadow-lg rounded">
      <h1 class="ml-3 font-weight-bold mb-3">Change password</h1>

      <form class="form-horizontal align-content-center" [formGroup]="changePasswordForm" (ngSubmit)="changePassword()">
        <div class="form-group">
          <label class="col-md-3 control-label">Old Password <small class="inputError">*</small></label>
          <div class="col-md-8">
            <input class="form-control" type="password" name ="oldPassword" id="oldPassword" formControlName="oldPassword" required placeholder="Enter old password">
            <div *ngIf="changePasswordForm.controls['oldPassword'].touched && changePasswordForm.controls['oldPassword'].errors?.required" class="mt-1 pl-1 inputError">
              <small>Old password is required.</small>
            </div>
          </div>
        </div>

        <div class="form-group">
          <label class="col-md-3 control-label">New Password <small class="inputError">*</small></label>
          <div class="col-md-8">
            <input class="form-control" name ="newPassword" id="newPassword" type="password" formControlName="newPassword" placeholder="Enter new password" required pattern="^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{8,}$">
            <div *ngIf="changePasswordForm.controls['newPassword'].touched && changePasswordForm.controls['newPassword'].errors?.required" class="mt-1 pl-1 inputError">
              <small>New password is required.</small>
            </div>
            <div *ngIf="changePasswordForm.controls['newPassword'].errors?.pattern" class="mt-1 pl-1 inputError">
              <small>Password must contain minimum 8 characters, at least one letter and one number.</small>
            </div>
          </div>
        </div>
        <div class="form-group">
          <label class="col-md-3 control-label">Confirm password <small class="inputError">*</small></label>
          <div class="col-md-8">
            <input class="form-control" name ="confirmPassword" id="confirmPassword" type="password" formControlName="confirmPassword" placeholder="Confirm new password" required>
            <div *ngIf="changePasswordForm.controls['confirmPassword'].touched && changePasswordForm.controls['confirmPassword'].errors?.required" class="mt-1 pl-1 inputError">
              <small>Confirm password is required.</small>
            </div>
            <div *ngIf="changePasswordForm.controls['confirmPassword'].errors?.mustMatch" class="mt-1 pl-1 inputError">
              <small>Please make sure your passwords match.</small>
            </div>
          </div>
        </div>
        <div class="form-group mt-4">
          <div class="col-md-8">
            <button button mat-raised-button color="primary" id="changePassBtn" class="mr-2" [disabled]="!changePasswordForm.valid" (click)="changePassword()">Save Changes</button>
            <span></span>
            <button button mat-raised-button color="warn" id="cancelBtn" (click)="cancel()" >Cancel</button>
          </div>
        </div>
      </form>
    </div>
  </div>
</div>
